use this with a socket client